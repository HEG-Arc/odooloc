<odoo>
    <!--    Enable locations by default-->
    <record model="res.config.settings" id="odooloc.locations_settings">
        <field name="group_stock_multi_locations" eval="True"/>
    </record>

    <function model="res.config.settings" name="execute">
        <!-- ids = -->
        <value eval="[ref('odooloc.locations_settings')]"/>
        <!-- context = -->
        <value eval="{}"/>
    </function>


    <!--    Add rental checkbox to product view-->
    <record id="view_product_form_inherit" model="ir.ui.view">
        <field name="name">product.template.common.form.inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='purchase_ok']/following-sibling::label[1]" position="after">
                <div>
                    <field name="rental"/>
                    <label for="rental"/>
                </div>
            </xpath>
        </field>
    </record>


    <!--    Add custom field to link a rentable product to an equipment-->
    <record id="hr_equipment_view_form_inherit" model="ir.ui.view">
        <field name="name">equipment.form.inherit</field>
        <field name="model">maintenance.equipment</field>
        <field name="inherit_id" ref="maintenance.hr_equipment_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='warranty']" position="after">
                <field name="odooloc_reference_product_id"/>
            </xpath>
        </field>
    </record>


    <!-- Insert the navigation menu -->
    <record model="ir.actions.act_window" id="odooloc_warehouses">
        <field name="name">Warehouses</field>
        <field name="res_model">stock.warehouse</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="odooloc_products">
        <field name="name">Products</field>
        <field name="res_model">product.template</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="odooloc_equipments">
        <field name="name">Equipments</field>
        <field name="res_model">maintenance.equipment</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.act_window" id="odooloc_purchases">
        <field name="name">Purchases</field>
        <field name="res_model">purchase.order</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="main_odooloc_menu" name="OdooLOC"/>

    <menuitem id="menu_inventory" name="Inventory" parent="main_odooloc_menu"/>
    <menuitem id="menu_inventory_warehouses" name="Warehouses" parent="menu_inventory" action="odooloc_warehouses"/>

    <menuitem id="menu_products" name="Products" parent="main_odooloc_menu"/>
    <menuitem id="menu_products_products" name="Products" parent="menu_products" action="odooloc_products"/>
    <menuitem id="menu_products_equipments" name="Equipments" parent="menu_products" action="odooloc_equipments"/>

    <menuitem id="menu_purchases" name="Purchases" parent="main_odooloc_menu"/>
    <menuitem id="menu_purchases_orders" name="Purchase orders" parent="menu_purchases" action="odooloc_purchases"/>
    <menuitem id="menu_purchases_equipments" name="Equipments creation" parent="menu_purchases" action="odooloc_equipments_creation"/>
</odoo>
