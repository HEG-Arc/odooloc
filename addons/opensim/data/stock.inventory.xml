<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- we create an initial stock at opensim install time
             noupdate here as inventory adjustement won't be re-executed/stock move created on update
        -->
         <record id="opensim.stock_inventory_1_line1" model="stock.inventory.line">
            <field name="product_id" model="product.product" search="[('name','=','Arabica Coffee Beans')]"/>
             <field name="location_id" search="[('usage','=','internal'),('company_id.name','=','A')]"/>
             <field name="product_qty" type="float">100.0</field>
        </record>
         <record id="opensim.stock_inventory_1_line2" model="stock.inventory.line">
             <!--
             tried
             <field name="product_id" model="product.product" search="[('product_tmpl_id','=',ref('opensim.product_template_21_4163b744') )]"/>
             can't use ref here so let's use name instead:
             -->
            <field name="product_id" model="product.product" search="[('name','=','Arabica Fair Trade Organic Coffee Beans')]"/>
             <field name="location_id" search="[('usage','=','internal'),('company_id.name','=','A')]"/>
             <field name="product_qty" type="float">50.0</field>
        </record>

        <record id="opensim.stock_inventory_1" model="stock.inventory">
            <field name="name" type="char">SimStart</field>
            <field name="filter" type="char">partial</field>
            <field name="location_id" search="[('usage','=','internal'),('company_id.name','=','A')]"/>
            <field name="line_ids" eval="[(6, 0, [ref('opensim.stock_inventory_1_line1'),ref('opensim.stock_inventory_1_line2')])]"/>
        </record>
         <!-- Validate inventory  -->
        <function model="stock.inventory" name="action_done" eval="[[ref('opensim.stock_inventory_1')]]"/>

    </data>
</odoo>

